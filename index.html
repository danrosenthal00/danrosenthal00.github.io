<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Dan Rosenthal</title>
    <link href="bootstrap/css/bootstrap.css" rel="stylesheet" />
	<link href="plugins/css/parallax.css" rel="stylesheet" />
	<link href="plugins/css/flip.css" rel="stylesheet" />
	<link href="css/main.css" rel="stylesheet" />
</head>
<body>
	<header id="Navigation" class="navbar navbar-fixed-top navbar-dark bg-blue-dark text-white">
		<button class="navbar-toggler hidden-sm-up" type="button" data-toggle="collapse" data-target="#MainNav">
			&#9776;
		</button>
		<div class="collapse navbar-toggleable-sm hidden-md-up" id="MainNav">
			<ul class="nav" role="tablist">
				<li class="nav-item p-t-1">
					<a class="nav-link text-white" href="#About">About <span class="sr-only">(current)</span></a>
				</li>
				<li class="nav-item p-t-1">
					<a class="nav-link text-white" href="#CodeSnippets">Code Snippets</span></a>
				</li>
				<li class="nav-item p-t-1">
					<a class="nav-link text-white" href="#Experience">Experience</span></a>
				</li>
				<li class="nav-item p-t-1 p-b-1">
					<a class="nav-link text-white" href="#Education">Education</span></a>	
				</li>
			</ul>
		</div>
		<div id="NavScroll" class="container hidden-sm-down">
				<ul class="nav navbar-nav" role="tablist">
					<li class="nav-item">
						<a class="nav-link active" href="#About">About <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#CodeSnippets">Code Snippets</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#Experience">Experience</span></a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#Education">Education</span></a>	
					</li>
				</ul>
			</div>
	</header>
	<div id="MainContent">
		<section id="About" class="module parallax parallax-1">
		  <div class="glass">
			<div class="container p-t-2 p-b-2">
				<div class="row">
					<div class="col-xs-12">
						<div class="text-xs-center text-sm-left">
							<img src="img/profile.png" class="img-rounded m-r-1 m-l-1">				
							<div class="img-caption-bottom m-t-1">
								<h1 class="display-4">
									Dan Rosenthal
								</h1>
								<h3>Software Engineer</h3>
								<p>
									danrosenthal00@gmail.com<br>
									(952)-239-5692
								</p>
							</div>
						</div>						
					</div>
				</div>
			</div>		
		  </div>
		</section>
		<section class="module content p-b-7">
		  <div class="container">
			<div class="row">
				<div class="col-xs-12 m-t-3">
					<p class="lead">
						Hello, my name is Dan.
					</p>
					<p>
						I am a designer, innovator and software enthusiast. I am a versatile full stack developer of mobile and web applications of all kinds. My passion is for finding elegant and simple solutions to complex problems. I believe coding is an art form that is best mastered by sharing and collaborating with fellow developers. Need a team member for your next programming adventure? Contact me any time!
					</p>
					<h4 class="m-t-3">Proficiencies</h4>
					<div class="row">
						<div class="col-xs-12">
							<img src="img/skills/csharp.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/html_css_js.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/jquery.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/bootstrap.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/angular.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/react.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/sql.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/dotnet.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/java.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/objectivec.png" class="img-thumbnail m-t-1 m-r-1"/>							
							<img src="img/skills/oracle.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/c.png" class="img-thumbnail m-t-1 m-r-1"/>
							<img src="img/skills/git.png" class="img-thumbnail m-t-1 m-r-1"/>
						</div>
					</div>
				</div>
			</div>
		  </div>
		</section>
        <section id="CodeSnippets" class="module content transition-triangle transition-triangle-bottom bg-blue">
		  <div class="container p-t-2 p-b-2">
                <div class="row">
                    <div class="col-xs-12">
                        <h1 class="display-2 text-xs-center text-white hidden-sm-down">Code Snippets</h1>
						<h1 class="display-4 text-xs-center text-white hidden-md-up">Code Snippets</h1>
                    </div>
                </div>
				<div class="row">
                    <div class="col-xs-12">
                        <h2 class="text-white">Flip</h2>
                        <p class="text-white">Here is a simple card flip animation plugin I created using CSS3 transforms.</p>
                    </div>
					<div class="col-md-6 col-xs-12 p-a-2">
						<div class="flip">
							<div class="flip-container">
								<div class="flip-face flip-front">
									<div class="flip-content">
										<div id="" class="card-wrapper">
											<div class="card">
												<div class="tile-body-fixed-lg">
													<div class="card-block text-xs-center">
														<img class="img-circle m-t-1 m-b-1 bg-green" src="img/flip.png" />
														<h4 class="card-title">Flip Card</h4>
														<p class="card-text">Click me to flip me!</p>
													</div>
												</div>
												<div class="tile-footer-fixed-md">
													<div class="card-block text-left">
														<hr />
														<div class="text-xs-center">
															<button class="btn btn-primary flip-enabled">Flip Me</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="flip-face flip-back">
									<div class="flip-content">
										<div class="card">
											<div class="tile-body-fixed-lg">
												<img class="card-img-top full-width" src="">
												<div class="card-block">
													<h4 class="card-title">Back Card</h4>
													<p class="card-text">Here is some more content on the back of the card!</p>
												</div>
											</div>
											<div class="tile-footer-fixed-md">
												<div class="card-block text-xs-center">
													<hr />
													<button class="btn btn-primary flip-enabled">Flip Back</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>				
						</div>
					</div>
					<div class="col-md-6 col-xs-12 m-t-2">
						<ul class="nav nav-tabs" role="tablist">
						  <li class="nav-item">
							<a class="nav-link nav-link-white active" data-toggle="tab" href="#HtmlFlip" role="tab">HTML</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link nav-link-white" data-toggle="tab" href="#CssFlip" role="tab">CSS</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link nav-link-white" data-toggle="tab" href="#JsFlip" role="tab">JavaScript</a>
						  </li>
						</ul>

						<div class="tab-content bg-white">
						  <div class="tab-pane active p-a-2" id="HtmlFlip" role="tabpanel">
<pre class="pre-scrollable">
&lt;div class="flip"&gt;
    &lt;div class="flip-container"&gt;
        &lt;div class="flip-face flip-front"&gt;
            &lt;div class="flip-content"&gt;
                &lt;!-- Front Card Content --&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="flip-face flip-back"&gt;
            &lt;div class="flip-content"&gt;
                &lt;!-- Back Card Content --&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;				
&lt;/div&gt;

</pre>							
						  </div>
						  <div class="tab-pane p-a-2" id="CssFlip" role="tabpanel">
<pre class="pre-scrollable">
.flip {
    -webkit-perspective: 800px;
    -moz-perspective: 800px;
    -ms-perspective: 800px;
    -o-perspective: 800px;
    perspective: 800px;
}

.flip .flip-container.flipped {
    -webkit-transform:rotatey(-180deg);
    -moz-transform:rotatey(-180deg);
    -ms-transform:rotatey(-180deg);
    -o-transform:rotatey(-180deg);
    transform:rotatey(-180deg);
}

.flip .flip-container {
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  transition: 0.5s;
}
.flip .flip-container .flip-face {
    width: 100%;
    height: 100%;
    cursor: pointer;
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    transform: rotate(0deg);
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    -ms-backface-visibility: hidden;
    -o-backface-visibility: hidden;
    backface-visibility: hidden;
}

.flip .flip-container .flip-back {
    -webkit-transform:rotatey(-180deg);
    -moz-transform:rotatey(-180deg);
    -ms-transform:rotatey(-180deg);
    -o-transform:rotatey(-180deg);
    transform:rotatey(-180deg);
}

</pre>                          
						  </div>
						  <div class="tab-pane p-a-2" id="JsFlip" role="tabpanel">
<pre class="pre-scrollable">
jQuery.fn.setTileHeight = function () {
    $(this).each(function () {
        var $frontCard = $(this).find('.flip-front');
        var $backCard = $(this).find('.flip-back');

        var topMargin = $frontCard.height();
        $backCard.css('margin-top', (topMargin * -1) + "px");
    });
}

jQuery.fn.flip = function () {
    $(this).setTileHeight();
    $(this).on('click', function (e) {
        if ($(e.target).is('.flip-disabled') || $(e.target).parents('.flip-disabled').length) return false;
        $(this).find('.flip-container').toggleClass('flipped');
    });
}

$('.flip').flip();

</pre>
						  </div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<section id="CodeSnippets2" class="module content">
		  <div class="container p-t-2 p-b-2">
                <div class="row">
                    <div class="col-xs-12">
                        <h1 class="display-2 text-xs-center text-white hidden-sm-down">Code Snippets</h1>
						<h1 class="display-4 text-xs-center text-white hidden-md-up">Code Snippets</h1>
                    </div>
                </div>
				<div class="row">
                    <div class="col-xs-12">
                        <h2 class="">Mobile Data Presentment</h2>
                        <p class="">Here is a concept design I created for a mobile display of weekly electricity usage data and metrics. Designed using HTML5 canvas elements. Swipe up or down to view the daily usage breakdown (click and drag if viewing on desktop).</p>
                    </div>
					<div class="col-md-6 col-xs-12 m-t-2">
						<ul class="nav nav-tabs" role="tablist">
						  <li class="nav-item">
							<a class="nav-link nav-link-blue active" data-toggle="tab" href="#HtmlUsage" role="tab">HTML</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link nav-link-blue" data-toggle="tab" href="#CssUsage" role="tab">CSS</a>
						  </li>
						  <li class="nav-item">
							<a class="nav-link nav-link-blue" data-toggle="tab" href="#JsUsage" role="tab">JavaScript</a>
						  </li>
						</ul>

						<div class="tab-content bg-blue">
						  <div class="tab-pane active p-a-2" id="HtmlUsage" role="tabpanel">
<pre class="pre-scrollable text-white">
&lt;div id="WindowWraper"&gt;
	&lt;div id="UsageBreakdown"&gt;
		&lt;canvas id="UsageBreakdownCanvas"&gt;&lt;/canvas&gt;
	&lt;/div&gt;
	&lt;div id="UsageContainer" class=""&gt;
		&lt;canvas id="UsageCanvas"&gt;&lt;/canvas&gt;
	&lt;/div&gt;
	&lt;footer class="footer"&gt;
		&lt;div class="tab col-xs-3"&gt;
			&lt;a href="#"&gt;Today&lt;/a&gt;
		&lt;/div&gt;
		&lt;div class="tab col-xs-3 active"&gt;
			&lt;a href="#"&gt;This Week&lt;/a&gt;
		&lt;/div&gt;
		&lt;div class="tab col-xs-3"&gt;
			&lt;a href="#"&gt;This Month&lt;/a&gt;
		&lt;/div&gt;
		&lt;div class="tab col-xs-3"&gt;
			&lt;a href="#"&gt;This Year&lt;/a&gt;
		&lt;/div&gt;
	&lt;/footer&gt;
&lt;/div&gt;

</pre>							
						  </div>
						  <div class="tab-pane p-a-2" id="CssUsage" role="tabpanel">
<pre class="pre-scrollable text-white">
body{
	font-family: font-family: Arial, Helvetica, sans-serif;
	font-weight: lighter;
	font-size:12px;
}

#WindowWraper {
	overflow:hidden;
}

.main-nav{
	margin:0;
}

.widget{
	background-color: #084559;
	color: #ffffff;
	height: 100px;
	padding:15px 15px;
}
.widget:not(:first-child){
	border-left: 1px solid #ffffff;
}
.widget  p{
	margin:0;
}

.text-large{
	font-size:20px;
	line-height:27px;
}
.text-medium{
	font-size:14px;
}

#UsageBreakdown{
	position:relative;
}

#UsageBreakdownCanvas{
	position:absolute;
	top:15;
	right:0;
}

#UsageContainer{
	overflow: hidden;
}

.footer {
  position: absolute;
  bottom: 0;
  width: 100%;
}

.footer .tab{
	background-color: #14a7d9;
	text-align: center;
	padding:10px;
}

.footer div a {
	color: #ffffff;
	text-decoration:none;
}

.footer div.active{
	background-color:#084559;
	padding-top:20px;
	margin-top:-10px;
}

</pre>                          
						  </div>
						  <div class="tab-pane p-a-2" id="JsUsage" role="tabpanel">
<pre class="pre-scrollable text-white">

CanvasRenderingContext2D.prototype.roundRect = function(x, y, width, height, radius, fill, stroke) {
    if (typeof stroke == "undefined") {
        stroke = true;
    }
    if (typeof radius === "undefined") {
        radius = 5;
    }
    this.beginPath();
    this.moveTo(x + radius, y);
    this.lineTo(x + width - radius, y);
    this.quadraticCurveTo(x + width, y, x + width, y + radius);
    this.lineTo(x + width, y + height - radius);
    this.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
    this.lineTo(x + radius, y + height);
    this.quadraticCurveTo(x, y + height, x, y + height - radius);
    this.lineTo(x, y + radius);
    this.quadraticCurveTo(x, y, x + radius, y);
    this.closePath();
    if (stroke) {
        this.stroke();
    }
    if (fill) {
        this.fill();
    }
};

CanvasRenderingContext2D.prototype.wrapText = function(text, x, y, maxWidth, lineHeight) {
	var words = text.split(' ');
	var line = '';
	var lines = [];

	for(var n = 0; n < words.length; n++) {
	  var testLine = line + words[n] + ' ';
	  var metrics = this.measureText(testLine);
	  var testWidth = metrics.width;
	  if (testWidth > maxWidth && n > 0) {
		lines.push({
			text: line,
			yPosition: y 
		});
		line = words[n] + ' ';
		y += lineHeight;		
	  }
	  else{
		line += words[n] + ' ';
	  }  
	  
	  if(n == words.length-1 && line.length > 0){
		lines.push({
			text: line,
			yPosition: y 
		});	
	  }
	}
	
	var yAdjustment = (lines.length-1)*lineHeight/2
	for(var i = 0; i < lines.length; i++){
		this.fillText(lines[i].text, x, lines[i].yPosition - yAdjustment);
	}
}


var myMeter = myMeter || {};
myMeter.mobile = (function (module, $){
	var loadData = function(){
		//Load json from server here
		module.data = [
			{
				usage: "7",
				usageType: "kwh",
				timePeriod: "Thursday",
				averageTemperature: "85",
				billLastYear: "35",
				neighborCompare: "14"
			},
			{
				usage: "20",
				usageType: "kwh",
				timePeriod: "Wednesday",
				averageTemperature: "68",
				billLastYear: "-25",
				neighborCompare: "-12"
			},
			{
				usage: "13",
				usageType: "kwh",
				timePeriod: "Tuesday",
				averageTemperature: "72",
				billLastYear: "-10",
				neighborCompare: "-7"
			},
			{
				usage: "15",
				usageType: "kwh",
				timePeriod: "Monday",
				averageTemperature: "74",
				billLastYear: "5",
				neighborCompare: "3"
			},
			{
				usage: "10",
				usageType: "kwh",
				timePeriod: "Sunday",
				averageTemperature: "69",
				billLastYear: "10",
				neighborCompare: "5"
			},
			{
				usage: "5",
				usageType: "kwh",
				timePeriod: "Saturday",
				averageTemperature: "70",
				billLastYear: "-20",
				neighborCompare: "-5"
			},
			{
				usage: "12",
				usageType: "kwh",
				timePeriod: "Friday",
				averageTemperature: "71",
				billLastYear: "13",
				neighborCompare: "7"
			}
		];
	}

	//Globals
	var timelineContext;
	var breakdownContext;
	var spacing;
	var radius;
	var yPosition;
	var multiplier;
	
	//Color Scheme
	var primary = '#14a7d9';
	var primaryDark = '';
	var averageTemperaturePositive = '#f4d03f';
	var averageTemperatureNegative = '';
	var lastYearsBillPositive = '#d91e18';
	var lastYearsBillNegative = '#26a65b';
	var neighborPositive = '#e87e04';
	var neighborNegative = '#663399';
	
	//Fonts
	var fontSize = 10;
	var fontSizeLarge = 13;
	var lineHeight = 14;
	var font = fontSize + 'pt Helvetica';
	var fontLarge = fontSizeLarge + 'pt Helvetica';
	
	//Timline defaults
	var timlineSpacing = 175
	var timlinePositionX = window.innerWidth/2;
	var timlinePositionY = 90;
	var bubbleRadiusBase = 35;
	var bubbleRadiusMinimum = 27;
	var bubbleLabelSize = timlinePositionX-15;
	var comparisonBarBase = 40;
	var comparisonBarWidth = 10;
	var spikeRotationDegrees = 35;
	var spikeRotationOffsetDegrees = 90;
	var rotation = spikeRotationDegrees*Math.PI/180;
	var rotationOffset = spikeRotationOffsetDegrees*Math.PI/180;
		
	//Breakdown defaults
	var brakedownHeight = 150;
	var brakedownBubbleRadius = 50;
	var brakedownBubbleOffsetX = 15;
	var breakdownBubbleOffsetY = brakedownHeight - brakedownBubbleRadius - 15;
	var brakedownPillOffset = 15;
	var brakedownPillSpacing = 10;
	var breakdownPillHeight = 35;
	var breakdownPillWidth = window.innerWidth-(2*brakedownBubbleRadius)-brakedownBubbleOffsetX-(2*brakedownPillOffset);
	var breakdownLabelOffset = 25;
	
	//Event tracking
	var lockScroll = false;
	var lastScrollTop = 0;
	var timelinePosition = 0;
	
	var PIXEL_RATIO = (function () {
		var ctx = document.createElement("canvas").getContext("2d"),
			dpr = window.devicePixelRatio || 1,
			bsr = ctx.webkitBackingStorePixelRatio ||
				  ctx.mozBackingStorePixelRatio ||
				  ctx.msBackingStorePixelRatio ||
				  ctx.oBackingStorePixelRatio ||
				  ctx.backingStorePixelRatio || 1;
			if(dpr > 2) dpr = 2;

		return dpr / bsr;
	})();
		
	var createHiDPICanvas = function(id, w, h, ratio) {
		if (!ratio) { ratio = PIXEL_RATIO; }
		var can = document.getElementById(id);
		can.width = w * ratio;
		can.height = h * ratio;
		can.style.width = w + "px";
		can.style.height = h + "px";
		can.getContext("2d").setTransform(ratio, 0, 0, ratio, 0, 0);
		return can;
	}
	
	var drawTimeline = function (){
		var timelineHeight = myMeter.mobile.data.length*timlineSpacing;
		var canvasHeight = timelineHeight+window.innerHeight-timlineSpacing-150;
		var canvas = createHiDPICanvas('UsageCanvas', window.innerWidth, canvasHeight);
		timelineContext = canvas.getContext('2d');		
		
		timelineContext.beginPath();
		timelineContext.moveTo(timlinePositionX, 0);
		timelineContext.lineTo(timlinePositionX, canvasHeight);
		timelineContext.lineWidth = 5;
		timelineContext.strokeStyle = '#bfbfbf';
		timelineContext.stroke();
		
		spacing = timelineHeight/(myMeter.mobile.data.length+1);
		for(i = timelinePosition+1; i < myMeter.mobile.data.length; i++){
			var maxValue = Number(myMeter.mobile.data[0].usage);
			var minValue = Number(myMeter.mobile.data[0].usage);
			myMeter.mobile.data.forEach(function(datum){
				if(Number(datum.usage) > maxValue) maxValue = Number(datum.usage);
				if(Number(datum.usage) < minValue) minValue = Number(datum.usage);
			});
			multiplier = bubbleRadiusBase/(maxValue-minValue);
			radius = (Number(myMeter.mobile.data[i].usage)-minValue+((maxValue-minValue)/2))*multiplier;
			if(radius < bubbleRadiusMinimum) radius = bubbleRadiusMinimum;			
			yPosition = (i*spacing)+timlinePositionY;
			
			//Usage label
			timelineContext.beginPath();
			timelineContext.rect(timlinePositionX, yPosition-15, -bubbleLabelSize, 30);
			timelineContext.fillStyle = 'rgba(191,191,191,0.75)';
			timelineContext.fill();
			timelineContext.lineWidth = 1;
			timelineContext.strokeStyle = 'rgba(191,191,191,0.75)';
			timelineContext.stroke();
			
			//Usage label text
			timelineContext.font = font;
			timelineContext.fillStyle = '#000000';
			timelineContext.textAlign = 'left';
			timelineContext.textBaseline = 'middle';
			timelineContext.fillText(myMeter.mobile.data[i].timePeriod, timlinePositionX-bubbleLabelSize+5, yPosition);
			
			drawAverageTemperatureComparison();
			
			drawLastYearsBillComparison();
			
			drawNeighborComparison();
			
			//Usage bubble
			timelineContext.beginPath();
			timelineContext.arc(timlinePositionX, yPosition, radius, 0, 2 * Math.PI, false);
			timelineContext.fillStyle = primary;
			timelineContext.fill();
			
			//Usage bubble text
			timelineContext.font = fontLarge;
			timelineContext.fillStyle = '#ffffff';
			timelineContext.textAlign = 'center';
			timelineContext.textBaseline = 'middle';
			timelineContext.fillText(myMeter.mobile.data[i].usage + " " + myMeter.mobile.data[i].usageType, timlinePositionX, yPosition);

		}
		drawUsageBreakdown(window.innerWidth, brakedownHeight);
	}
	
	var drawUsageBreakdown = function(width, height){
		var canvas = createHiDPICanvas('UsageBreakdownCanvas',width,height);
		breakdownContext = canvas.getContext('2d');
		
		breakdownContext.beginPath();
		breakdownContext.rect(0, 0, width, height);
		breakdownContext.fillStyle = 'rgba(191,191,191,1)';
		breakdownContext.lineWidth = 1;
		breakdownContext.fill();
		
		//Usage bubble text
		breakdownContext.font = font;
		breakdownContext.fillStyle = '#000000';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.fillText(myMeter.mobile.data[timelinePosition].timePeriod, brakedownBubbleX, breakdownLabelOffset);
				
		//Usage bubble
		var brakedownBubbleX = brakedownBubbleOffsetX+brakedownBubbleRadius;
		breakdownContext.beginPath();
		breakdownContext.arc(brakedownBubbleX, breakdownBubbleOffsetY, brakedownBubbleRadius, 0, 2 * Math.PI, false);
		breakdownContext.fillStyle = primary;
		breakdownContext.fill();
		
		//Usage bubble label text
		breakdownContext.font = font;
		breakdownContext.fillStyle = '#000000';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.fillText(myMeter.mobile.data[timelinePosition].timePeriod, brakedownBubbleX, breakdownLabelOffset);
		
		//Usage bubble text
		breakdownContext.font = fontLarge;
		breakdownContext.fillStyle = '#ffffff';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.fillText(myMeter.mobile.data[timelinePosition].usage + " " + myMeter.mobile.data[timelinePosition].usageType, brakedownBubbleX, breakdownBubbleOffsetY);
		
		var pillX = brakedownPillOffset+brakedownBubbleX+brakedownBubbleRadius;
		var pillY = (height/2)-(breakdownPillHeight*1.5)-brakedownPillSpacing;
		breakdownContext.fillStyle = averageTemperaturePositive;
		breakdownContext.roundRect(pillX, pillY, breakdownPillWidth, breakdownPillHeight, breakdownPillHeight/2, true, false)
		
		var textX = pillX+breakdownPillWidth/2;
		var textY = pillY+breakdownPillHeight/2;
		breakdownContext.font = font;
		breakdownContext.fillStyle = '#ffffff';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.wrapText(myMeter.mobile.data[timelinePosition].averageTemperature+"° average temperature", textX, textY, breakdownPillWidth, lineHeight);
				
		pillY = (height/2)-(breakdownPillHeight/2);
		breakdownContext.fillStyle = Number(myMeter.mobile.data[timelinePosition].billLastYear) > 0 ? lastYearsBillPositive : lastYearsBillNegative;
		breakdownContext.roundRect(pillX, pillY, breakdownPillWidth, breakdownPillHeight, breakdownPillHeight/2, true, false)
		
		var symbol = Number(myMeter.mobile.data[timelinePosition].billLastYear) > 0 ? "+" : "-";
		var text = Number(myMeter.mobile.data[timelinePosition].billLastYear) > 0 ? " more than last year" : " less than last year";
		textY = pillY+breakdownPillHeight/2;
		breakdownContext.font = font;
		breakdownContext.fillStyle = '#ffffff';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.wrapText(symbol+"$"+Math.abs(Number(myMeter.mobile.data[timelinePosition].billLastYear))+text, textX, textY, breakdownPillWidth, lineHeight);
		
		pillY = (height/2)+(breakdownPillHeight*.5)+(brakedownPillSpacing);
		breakdownContext.fillStyle = Number(myMeter.mobile.data[timelinePosition].neighborCompare) > 0 ? neighborPositive : neighborNegative;
		breakdownContext.roundRect(pillX, pillY, breakdownPillWidth, breakdownPillHeight, breakdownPillHeight/2, true, false)
		
		symbol = Number(myMeter.mobile.data[timelinePosition].neighborCompare) > 0 ? "+" : "-";
		text = Number(myMeter.mobile.data[timelinePosition].neighborCompare) > 0 ? " more than your neighbors" : " less than your neighbors";
		textY = pillY+breakdownPillHeight/2;
		breakdownContext.font = font;
		breakdownContext.fillStyle = '#ffffff';
		breakdownContext.textAlign = 'center';
		breakdownContext.textBaseline = 'middle';
		breakdownContext.wrapText(symbol+"$"+Math.abs(Number(myMeter.mobile.data[timelinePosition].neighborCompare))+text, textX, textY, breakdownPillWidth, lineHeight);
	}
	
	var drawAverageTemperatureComparison = function(){
		maxValue = Number(myMeter.mobile.data[0].averageTemperature);
		minValue = Number(myMeter.mobile.data[0].averageTemperature);
		myMeter.mobile.data.forEach(function(datum){
			if(Number(datum.averageTemperature) > maxValue) maxValue = Number(datum.averageTemperature);
			if(Number(datum.averageTemperature) < minValue) minValue = Number(datum.averageTemperature);
		});
		multiplier = comparisonBarBase/(maxValue-minValue);
		var barLength = (Number(myMeter.mobile.data[i].averageTemperature)-minValue+((maxValue-minValue)/2))*multiplier+radius;
		
		
		timelineContext.save();
		timelineContext.translate(timlinePositionX, yPosition);
		timelineContext.rotate(-rotation+rotationOffset);
		timelineContext.beginPath();
		timelineContext.moveTo(0, 0);
		timelineContext.lineTo(0, -barLength);
		timelineContext.lineWidth = comparisonBarWidth;
		timelineContext.strokeStyle = averageTemperaturePositive;
		timelineContext.stroke();
		
		if(i != 0){
			timelineContext.translate(0, -barLength-25);
			timelineContext.rotate(rotation-rotationOffset);
			timelineContext.font = font;
			timelineContext.fillStyle = '#000000';
			timelineContext.textAlign = 'center';
			timelineContext.textBaseline = 'middle';
			timelineContext.fillText(myMeter.mobile.data[i].averageTemperature+"°", 0, 0);				
		}
		timelineContext.restore();
	}
	
	var drawLastYearsBillComparison = function(){
		maxValue = Number(myMeter.mobile.data[0].billLastYear);
		minValue = Number(myMeter.mobile.data[0].billLastYear);
		myMeter.mobile.data.forEach(function(datum){
			if(Number(datum.billLastYear) > maxValue) maxValue = Number(datum.billLastYear);
			if(Number(datum.billLastYear) < minValue) minValue = Number(datum.billLastYear);
		});
		multiplier = comparisonBarBase/(maxValue-minValue);
		barLength = (Number(myMeter.mobile.data[i].billLastYear)-minValue+((maxValue-minValue)/2))*multiplier+radius;
		timelineContext.save();
		timelineContext.translate(timlinePositionX, yPosition);
		timelineContext.rotate(rotationOffset);
		timelineContext.beginPath();
		timelineContext.moveTo(0, 0);
		timelineContext.lineTo(0, -barLength);
		timelineContext.lineWidth = comparisonBarWidth;
		timelineContext.strokeStyle = Number(myMeter.mobile.data[i].billLastYear) > 0 ? lastYearsBillPositive : lastYearsBillNegative;
		timelineContext.stroke();
		
		if(i != 0){
			var symbol = Number(myMeter.mobile.data[i].billLastYear) > 0 ? "+" : "-";
			timelineContext.translate(0, -barLength-25);
			timelineContext.rotate(-rotationOffset);
			timelineContext.font = font;
			timelineContext.fillStyle = '#000000';
			timelineContext.textAlign = 'center';
			timelineContext.textBaseline = 'middle';
			timelineContext.fillText(symbol+"$"+Math.abs(Number(myMeter.mobile.data[i].billLastYear)), 0, 0);
		}			
		timelineContext.restore();
	}
	
	var drawNeighborComparison = function(){
		maxValue = Number(myMeter.mobile.data[0].neighborCompare);
		minValue = Number(myMeter.mobile.data[0].neighborCompare);
		myMeter.mobile.data.forEach(function(datum){
			if(Number(datum.neighborCompare) > maxValue) maxValue = Number(datum.neighborCompare);
			if(Number(datum.neighborCompare) < minValue) minValue = Number(datum.neighborCompare);
		});
		multiplier = comparisonBarBase/(maxValue-minValue);
		barLength = (Number(myMeter.mobile.data[i].neighborCompare)-minValue+((maxValue-minValue)/2))*multiplier+radius;
		timelineContext.save();
		timelineContext.translate(timlinePositionX, yPosition);
		timelineContext.rotate(rotation+rotationOffset);
		timelineContext.beginPath();
		timelineContext.moveTo(0, 0);
		timelineContext.lineTo(0, -barLength);
		timelineContext.lineWidth = comparisonBarWidth;
		timelineContext.strokeStyle = Number(myMeter.mobile.data[i].neighborCompare) > 0 ? neighborPositive : neighborNegative;
		timelineContext.stroke();
		
		if(i != 0){
			var symbol = Number(myMeter.mobile.data[i].neighborCompare) > 0 ? "+" : "-";
			timelineContext.translate(0, -barLength-25);
			timelineContext.rotate(-rotation-rotationOffset);
			timelineContext.font = font;
			timelineContext.fillStyle = '#000000';
			timelineContext.textAlign = 'center';
			timelineContext.textBaseline = 'middle';
			timelineContext.fillText(symbol+"$"+Math.abs(Number(myMeter.mobile.data[i].neighborCompare)), 0, 0);				
		}
		timelineContext.restore();
	}
	
	var scrollTopAnimate = function($element, position){
		$element.animate({
			marginTop: -position
		}, 150);
	}
	
	var swipeEventHandler = function(event, direction, distance, duration, fingerCount){
		if(direction == 'up'){
			if(timelinePosition >= myMeter.mobile.data.length) return false;			
			timelinePosition++;
			scrollTopAnimate($('#UsageContainer'), timelinePosition*spacing);
		}
		if(direction == 'down'){
			if(timelinePosition <= 0) return false;
			timelinePosition--;
			scrollTopAnimate($('#UsageContainer'), timelinePosition*spacing);
		}
		drawTimeline();
	}
	
	module.initialize = function (){
		$('#WindowWraper').height(window.innerHeight);
		$('.footer .tab').on('click', function(){
			$('.footer .active').removeClass('active');
			$(this).addClass('active');
		})
		loadData();
		drawTimeline();
		$("body").swipe( {
			swipe:function(event, direction, distance, duration, fingerCount) {
			  swipeEventHandler(event, direction, distance, duration, fingerCount);
			},
			threshold:0
		});
	}
	return module;
}(myMeter.mobile || {}, jQuery));

$(document).ready(function(){
	myMeter.mobile.initialize();
})

</pre>
						  </div>						  
						</div>
					</div>
					<div class="col-md-6 col-xs-12 p-a-2">
						<div id="UsagePreview">
						</div>
					  </div>
				</div>
			</div>
		</section>
		<section id="Experience" class="module parallax parallax-3">
		  <div class="glass">
			<div class="container p-t-2 p-b-2">
				<div class="row">
					<div class="col-xs-12 text-xs-center">
						<h1 class="display-2 hidden-sm-down">Experience</h1>
						<h1 class="display-4 hidden-md-up">Experience</h1>
					</div>
				</div>
			</div>		
		  </div>
		</section>
		<section class="module content">
		  <div class="container p-t-3">
			<div class="row"> 
                <div class="col-xs-12 col-md-6 bubble-right scroll-detect p-b-1">
					<div class="text-md-center">
						<img src="img/AI_logo.png" class="m-t-1 pull-xl-right img-thumbnail" />
					</div>
					<h3 class="text-md-center text-xl-left m-t-1">Software Engineer</h3>
					<h4 class="text-md-center text-xl-left">Accelerated Innovations</h4>
					<p class="text-muted text-md-center text-xl-left">July 2014 - Present | 366 Jackson Street #100, St Paul, MN 55101</p>
					<ul>
						<li>Lead mobile app development, creating hybrid-native apps for iOS, Android and windows.</li>
						<li>Design and improve custom applications for the MyMeter smart energy platform using C# and .NET framework</li>
						<li>Create responsive, mobile ready web interfaces using jQuery, HTML5, CSS3, Less, Bootstrap, Kendo UI and other frameworks/libraries</li>
						<li>Interface directly with clients and partners to connect platforms and ensure product quality</li>
						<li>Create and update complex SQL Server database architectures designed for large data sources using Code First Entity Framework ORM</li>
						<li>Collaborate with fellow developers using an agile project management process</li>
						<li>Structure releases and deployments using Team Foundation Server source control</li>
						<li>Develop RESTful Web API services to integrate with external software applications</li>
						<li>Construct unit testing architecture using MS Test and Moq to improve software stability and quality assurance</li>
					</ul>
                </div>
			</div>
            <div class="row">
                <div class="col-xs-12 col-md-6 offset-md-6 bubble-left scroll-detect p-b-1">
					<div class="text-md-center">
						<img src="img/WE_logo.png" class="m-t-1 pull-xl-right img-thumbnail" />
					</div>
					<h3 class="text-md-center text-xl-left m-t-1">Software Engineer</h3>
					<h4 class="text-md-center text-xl-left">Work Effects</h4>
					<p class="text-muted text-md-center text-xl-left">January 2014 - July 2014 | 527 Marquette Ave S, Minneapolis, MN 55402</p>
					<ul>
						<li>Design and build robust web applications using C# and .NET framework</li>
						<li>Ensure product stability by writing unit tests using NUnit and MSTest</li>
						<li>Implement responsive and compatible web interfaces using jQuery, HTML5, CSS3, Bootstrap, Foundation and other frameworks/libraries</li>
						<li>Create and update complex SQL Server database architectures for client reporting</li>
						<li>Collaborate with fellow developers using a scrum agile project management process</li>
						<li>Structure releases and deployments using the Git flow source control branching model and TeamCity continuous integration</li>
						<li>Develop RESTful Web API services for large scale email communications and application integration</li>
					</ul>
                </div>
            </div>
			<div class="row"> 
                <div class="col-xs-12 col-md-6 bubble-right scroll-detect">
					<div class="text-md-center">
						<img src="img/Maverick_logo.png" class="m-t-1 pull-xl-right img-thumbnail" />
					</div>
					<h3 class="text-md-center text-xl-left m-t-1">Web Developer for Digital River</h3>
					<h4 class="text-md-center text-xl-left">Maverick Software Consulting</h4>
					<p class="text-muted text-md-center text-xl-left">February 2012 - January 2013 | 20 13th Street S #100, Minneapolis, MN 55403</p>
					<ul>
						<li>Digital River Certified Web Developer, completed April 2012
						<li>Develop and maintain client e-commerce websites using a variety of programming languages and applications, including HTML, JavaScript, CSS, JSP, and jQuery</li>
						<li>Ensure that client e-commerce web sites adhere to current coding, performance, accessibility and usability standards</li>
						<li>Collaborate with various teams to provide quality assurance of large scale e-commerce websites for global clients</li>
						<li>Advise client account managers regarding industry best practices as they pertain to e­commerce website production
					</ul>
                </div>
			</div>
		  </div>
		</section>
		<section id="Education" class="module parallax parallax-4">
		  <div class="glass">
			<div class="container p-t-2 p-b-2">
				<div class="row">
					<div class="col-xs-12 text-xs-center">
						<h1 class="display-2 hidden-sm-down">Education</h1>
						<h1 class="display-4 hidden-md-up">Education</h1>								
					</div>
				</div>
			</div>		
		  </div>
		</section>
		<section class="module content inverted-rounded">
		  <div class="container p-t-3">
			<div class="row p-a-1">
				<div class="col-sm-4 col-xs-2">
					<img src="img/ustLogo.jpg" class="img-fluid"/>
				</div>
				<div class="col-sm-8 col-xs-10">				
					<h3 class="">University of St. Thomas</h3>
					<p class="text-muted">2009-2014</p>
					<dl class="dl-horizontal">
					  <dt class="col-sm-3">Degrees</dt>
					  <dd class="col-sm-9">Computer Science B.A.</dd>
					  <dd class="col-sm-9 offset-sm-3">Electrical Engineering B.S.</dd>
					  <dd class="col-sm-9 offset-sm-3">Physics B.A.</dd>

					  <dt class="col-sm-3 m-t-1">GPA</dt>
					  <dd class="col-sm-9 m-t-1">3.90 - Summa Cum Laude</dd>

					  <dt class="col-sm-3 m-t-1">Honors and Activities</dt>
					  <dd class="col-sm-9 m-t-1">Delta Epsilon Sigma National Scholastic Honor Society</dd>
					  <dd class="col-sm-9 offset-sm-3">Dean's List: 2009-2014</dd>
					  <dd class="col-sm-9 offset-sm-3">Computer Science Tutor: September 2010 - January 2012</dd>
					  <dd class="col-sm-9 offset-sm-3">Computer Science Club</dd>
					</dl>
				</div>
			</div>			
		  </div>
		</section>
		<section class="module content bg-blue text-white">
		  <div class="container">
			<div class="row">
				<div class="col-xs-12">
					<h1 class="display-4 m-b-1">Senior Design Project</h1>
				</div>
				<div class="col-sm-6 p-a-1">
					<h3>UAV Autopilot System Identification</h3>
					<p>September 2012 - May 2013</p>
					<h4>Goal</h4>
					<p>Develop a system identification toolset for converting a standard fixed-wing RC aircraft to a fully autonomous UAV.</p>
					<h4>Solution</h4>
					<p>Hardware</p>
					<ul>
						<li>Pitot Tube</li>
						<li>XBee RF module</li>
						<li>Lisa/M 2.0 Aspirin IMU</li>
						<li>GPS</li>
					</ul>
					<p>Software</p>
					<ul>
						<li>Paparazzi open-source autopilot software</li>
						<li>Python airframe configuration scripts</li>
						<li>MATLAB data processing and system modeling</li>
						
					</ul>
				</div>
				<div class="col-sm-6 p-a-1">
					<figure class="figure">
					  <img src="img/uav2.jpg" class="figure-img img-fluid img-rounded" />
					  <figcaption class="figure-caption text-white">Neil Zumwalde, Billy McKee, Matthew Schmidtbauer, Dan Rosenthal, Ryan Delaney</figcaption>
					</figure>
				</div>
			</div>			
		  </div>
		</section>
	</div>
	
	<footer class="p-t-3 p-b-3 bg-blue-dark text-white">
		<div class="container">
			<p class="pull-sm-left">
				&#169; Copyright 2016, Dan Rosenthal
			</P>
			<p class="pull-sm-right">
				danrosenthal00@gmail.com<br>
				(952)-239-5692
			</p>
		</div>
	</footer>
	<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
	<script src="bootstrap/js/bootstrap.js"></script>
	<script src="plugins/js/flip.js"></script>
	<script src="biomp/biomp.js"></script>
	<script>
		var resume = (function(module, $){
            var scrollDetect = function(){
                $('.scroll-detect').each(function(){
                    if ((($(this).offset().top + $(this).outerHeight()*.75) >= $(window).scrollTop()) &&
                        (($(this).offset().top + $(this).outerHeight()*.25) <= ($(window).scrollTop() + $(window).height()))) {
                      $(this).addClass('visible');
                    } else {
                      $(this).removeClass('visible');
                    }
                });
            }
            module.initializeScrollDetect = function(){
                var $window = $(window);
                $window.on('scroll resize', scrollDetect);
                $window.trigger('scroll');
            }
			module.initialize = function(){
				$('.flip').flip();
				resume.initializeScrollDetect();
				$('body').scrollspy({ target: '#NavScroll' })
				var scale = $(window).width() > 330 ? 0.75 : 0.5;
				bioMp(document.getElementById('UsagePreview'), {
					url: 'plugins/usage/usage.html',
					view: 'front',
					image: 'biomp/images/iphone6_front_black.png',
					scale: scale
				});
				$('.collapse .nav-link').on('click', function(){
					$('#MainNav').collapse('hide')
				});
			}
			
			return module;
		}(resume || {}, jQuery))
		$(document).ready(function (){		
			resume.initialize();		
		});
	</script>
</body>
</html>